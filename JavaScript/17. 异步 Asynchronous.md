# 异步 Asynchronous

## 同步
了解异步之前，先了解什么是同步。以下是一个假的 `getJSON()`，模拟同步请求。
```javascript
function getJSON(url) {
  for (let i = 0; i < 3000000000; i++) i;    // 模拟请求所需时间
  
  console.log(`JSON - ${url}`);
}

getJSON('https://api.github.com/users/tj');
getJSON('https://api.github.com/users/dhh');
getJSON('https://api.github.com/users/yyx990803');
```
执行以上代码，可以看出在同步的情况下，后一个请求需要在前一个请求完成后才能发出，这种现象称为**阻塞**。

## 异步与回调
下面是一个以异步方式实现的 `getJSON()`，其中 `success` 被称作回调函数。
```javascript
function getJSON(url, success) {
  let xhr = new XMLHttpRequest();
  xhr.responseType = 'json';
  xhr.open('GET', url);
  xhr.onload = function() {
    if (typeof success === 'function') {
      success(this.response);
    }
  };
  xhr.send();
}

function logUser(user) { console.log(user.name); }

getJSON('https://api.github.com/users/tj', logUser);
getJSON('https://api.github.com/users/dhh', logUser);
getJSON('https://api.github.com/users/yyx990803', logUser);
```
在异步的情况下，以上三个请求(几乎)是同时发出的。
