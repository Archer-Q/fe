# 跨域请求

## 同源策略 Same-origin Policy
同源策略限制从一个源加载的文档或脚本如何与另一个源的资源进行交互，是隔离潜在恶意文件的关键安全机制。

同源策略只存在于浏览器，服务端不存在这种限制。

### 源的定义
两个页面同源需要满足以下条件
* 同协议(Protocol)
* 同主机(Host)
* 同端口(Port)

|         URL A        |               URL B                   | 是否同源     |
|:--------------------:|---------------------------------------|:------------|
| `https://github.com` | `https://github.com/fe13`             | 是          |
| `https://github.com` | `http://github.com`                   | 否，协议不同  |
| `https://github.com` | `https://www.github.com/fe13`         | 否，主机不同  |
| `https://github.com` | `https://api.github.com/users/github` | 否，主机不同  |
| `https://github.com` | `https://github.com:8000`             | 否，端口不同  |

默认情况下，由于同源策略的存在，XMLHttpRequest 或 Fetch 发起的 HTTP 请求**不能**跨源(域)。

## CORS
CORS 全称 Cross-Origin Resource Sharing，即跨域(源)资源共享。

## JSONP

## PostMessage

## 参考链接
* https://isudox.com/2016/09/24/cross-site-jsonp-and-cors
* https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy
* https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS
* https://developer.mozilla.org/en-US/docs/Web/HTTP/Server-Side_Access_Control

